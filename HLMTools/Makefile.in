# @configure_input@

# UNIX HTK LANGUAGE MODELLING TOOLS MAKEFILE

SHELL   =	/bin/sh
inc     = 	../HTKLib
srcdir = @srcdir@
top_srcdir = @top_srcdir@
VPATH = @srcdir@
prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = @bindir@
sbindir = @sbindir@
libexecdir = @libexecdir@
datadir = @datadir@
sysconfdir = @sysconfdir@
sharedstatedir = @sharedstatedir@
localstatedir = @localstatedir@
libdir = @libdir@
infodir = @infodir@
mandir = @mandir@
includedir = @includedir@
oldincludedir = /usr/include
hlib    = 	../HTKLib
llib    = 	../HLMLib
HLIBS   = 	$(hlib)/HTKLib.a $(llib)/HLMLib.a
CC      = 	@CC@
CFLAGS  = 	@CFLAGS@ -I$(hlib) -I$(llib) 
LDFLAGS = 	@LDFLAGS@ $(HLIBS) -lm
INSTALL = 	@INSTALL@
PROGS   =	Cluster \
			HLMCopy \
			LAdapt \
			LBuild \
			LFoF \
			LGCopy \
			LGList \
			LGPrep \
			LLink \
			LMerge \
			LNewMap \
			LNorm \
			LPlex \
			LSubset 

all:  $(PROGS)

# build $(PROGS)
%: %.c $(HLIBS)
	if [ ! -d $(bindir) ] ; then mkdir $(bindir) ; fi
	$(CC) -o $@ $(CFLAGS) $^ $(LDFLAGS)
	$(INSTALL) -m 755 $@ $(bindir)

strip: $(PROGS)
	-strip $(PROGS)

clean:
	-rm -f *.o

cleanup:
	-rm -f *.o $(PROGS)

distclean:
	-rm -f *.o $(PROGS) Makefile

install: mkinstalldir $(PROGS)
	for program in $(PROGS) ; do $(INSTALL) -m 755 $${program} $(bindir) ; done

mkinstalldir:
	-mkdir -p $(bindir)

.PHONY: all strip clean cleanup distclean install mkinstalldir
