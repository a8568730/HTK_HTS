SHELL =	/bin/sh
srcdir = @srcdir@
top_srcdir = @top_srcdir@
VPATH = @srcdir@
prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = @bindir@
sbindir = @sbindir@
libexecdir = @libexecdir@
datadir = @datadir@
sysconfdir = @sysconfdir@
sharedstatedir = @sharedstatedir@
localstatedir = @localstatedir@
libdir = @libdir@
infodir = @infodir@
mandir = @mandir@
includedir = @includedir@
oldincludedir = /usr/include

CXX     = @CXX@
INSTALL = @INSTALL@
LIBS    = @LIBS@
DEFS    = @DEFS@ @CXXFLAGS@

PROGS = hts_engine
SRCS  = hts_engine.cpp  defaults.hpp  global.hpp  misc.cpp misc.hpp  mlpg.cpp  mlpg.hpp  \
        model.cpp  model.hpp  tree.cpp  tree.hpp  vocoder.cpp  vocoder.hpp
OBJS  = hts_engine.o misc.o mlpg.o model.o tree.o vocoder.o

all: $(PROGS)	

$(PROGS): $(OBJS) 
	$(CXX) -o $@ -L$(libdir) $(OBJS) $(LIBS)

.cpp.o:
	$(CXX) $(DEFS) -I$(includedir) -c -o $@ $<

strip: $(PROGS)
	-strip $(PROGS)

clean:
	-rm -f $(OBJS)

cleanup:
	-rm -f $(OBJS) $(PROGS) *.exe

distclean:
	-rm -f $(OBJS) $(PROGS) *.exe Makefile

install: mkinstalldir $(PROGS)
	for program in $(PROGS) ; do $(INSTALL) -m 755 $${program} $(bindir) ; done

mkinstalldir:
	if [ ! -d $(bindir) ] ; then mkdir $(bindir) ; fi


.PHONY: all strip clean cleanup distclean install mkinstalldir
